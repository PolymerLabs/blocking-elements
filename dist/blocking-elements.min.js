!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var s,n,a,u,h,o,f,d,c,v,y,p,e,t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();
/**
 * @license
 * Copyright 2016 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
s=document,n=Symbol(),a=Symbol(),u=Symbol(),h=Symbol(),o=Symbol(),f=Symbol(),d=Symbol(),c=Symbol(),v=Symbol(),y=Symbol(),p=Symbol(),e=function(){function e(){t(this,e),this[n]=[],this[u]=[],this[a]=new Set}return i(e,[{key:"destructor",value:function(){this[c](this[u]),this[n]=null,this[u]=null,this[a]=null}},{key:"push",value:function(e){e&&e!==this.top&&(this.remove(e),this[o](e),this[n].push(e))}},{key:"remove",value:function(e){var t=this[n].indexOf(e);return-1!==t&&(this[n].splice(t,1),t===this[n].length&&this[o](this.top),!0)}},{key:"pop",value:function(){var e=this.top;return e&&this.remove(e),e}},{key:"has",value:function(e){return-1!==this[n].indexOf(e)}},{key:o,value:function(e){var t=this[a],n=this[u];if(!e)return this[c](n),t.clear(),void(this[u]=[]);var o=this[v](e);if(o[o.length-1].parentNode!==s.body)throw Error("Non-connected element cannot be a blocking element");this[u]=o;var i=this[y](e);if(n.length){for(var r=n.length-1,l=o.length-1;0<r&&0<l&&n[r]===o[l];)r--,l--;n[r]!==o[l]&&this[f](n[r],o[l]),0<r&&this[c](n.slice(0,r)),0<l&&this[d](o.slice(0,l),i)}else this[d](o,i,t)}},{key:f,value:function(e,t){var n=e[h];this[p](e)&&!e.inert&&(e.inert=!0,n.add(e)),n.has(t)&&(t.inert=!1,n.delete(t)),e[h]=null,t[h]=n}},{key:c,value:function(e){for(var t=0,n=e.length;t<n;t++){var o=!0,i=!1,r=void 0;try{for(var l,s=e[t][h][Symbol.iterator]();!(o=(l=s.next()).done);o=!0){l.value.inert=!1}}catch(e){i=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}e[t][h]=null}}},{key:d,value:function(e,t,n){for(var o=0,i=e.length;o<i;o++){for(var r=e[o],l=r.parentNode.children,s=new Set,a=0;a<l.length;a++){var u=l[a];u===r||!this[p](u)||t&&t.has(u)||(n&&u.inert?n.add(u):(u.inert=!0,s.add(u)))}r[h]=s}}},{key:p,value:function(e){return!1===/^(style|template|script)$/.test(e.localName)}},{key:v,value:function(e){for(var t=[],n=e;n&&n!==s.body;)if(n.nodeType===Node.ELEMENT_NODE&&t.push(n),n.assignedSlot){for(;n=n.assignedSlot;)t.push(n);n=t.pop()}else{var o=n.getDestinationInsertionPoints?n.getDestinationInsertionPoints():[];if(o.length){for(var i=0;i<o.length;i++)t.push(o[i]);n=t.pop()}else n=n.parentNode||n.host}return t}},{key:y,value:function(e){var t=e.shadowRoot;if(!t)return null;var n=new Set,o=void 0,i=void 0,r=void 0,l=t.querySelectorAll("slot");if(l.length&&l[0].assignedNodes){for(o=0;o<l.length;o++)for(r=l[o].assignedNodes({flatten:!0}),i=0;i<r.length;i++)r[i].nodeType===Node.ELEMENT_NODE&&n.add(r[i]);return n}var s=t.querySelectorAll("content");if(s.length&&s[0].getDistributedNodes)for(o=0;o<s.length;o++)for(r=s[o].getDistributedNodes(),i=0;i<r.length;i++)r[i].nodeType===Node.ELEMENT_NODE&&n.add(r[i]);return n}},{key:"top",get:function(){var e=this[n];return e[e.length-1]||null}}]),e}(),s.$blockingElements=new e});
